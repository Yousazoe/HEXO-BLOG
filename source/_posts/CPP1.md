---
title: 欢迎来到C++
comment: false
tags: Cpp
categories: Cherno的C++笔记 (Cherno C++)
abbrlink: e5bd4d2
date: 2021-03-07 10:44:09
type:
banner_img:
index_img:
translate_title:
top:
mathjax:
---





![](https://cdn.jsdelivr.net/gh/Yousazoe/picgo-repo/img/49ff1661408483.5a6df91d1e93d.png)

<div align=center>
  <font size="3">
    <i>
      <a href="https://www.behance.net/gallery/61408483/Memories">Memories</a> by 
      <a href="https://www.behance.net/MChahin">Mohamed Chahin</a>
    </i>
  </font>
</div>

### 引言

这个系列将讲解C++需知道的一切内容，涵盖这门语言的基础知识。本节将会简单介绍C++这门语言并学会在不同平台安装。



<!--more-->



学习C++对游戏开发大有裨益，然而C++不仅仅适用于游戏。

### 为什么学习C++

我为什么要学习C++？这是不是一种过时的语言？现在学习C++有什么好处？

当你需要编写性能良好的代码时，C++仍然是最常用的语言；或者你正在为一个奇怪的架构或平台编写原生代码并且想获取对硬件的进程控制，C++也是不二选择；在游戏行业中，例如Unity、Unreal、Frostbite等游戏引擎都是用C++写的......

问题在于问什么我们想要直接访问硬件？为什么所有这些游戏引擎都是用C++编写的，为什么不用另一种语言？

#### 底层

使用C++最大的原因是直接控制硬件。我们来讨论一下C++的工作原理：你用C++写的代码被送去编译器编译，这些编译器将代码输出为目标平台的机器码（设备在CPU实际执行的指令），使用C++我们完全可以控制CPU执行的每一条指令。

#### 平台

如果你问C++可以运行在什么平台，答案是几乎所有平台，你只需要找到为该平台输出机器码的编译器，例如x64编译器将输出x64机器码从而在64位CPU上运行。举个例子，一些平台通常被用于开发C++程序：Windows、Mac、Linux和其它几乎所有桌面操作系统以及移动操作系统IOS、Android......我们同样可以在所有游戏主机上编写C++程序，包括Xbox、PS以及任天堂的3DS、WiiU、Switch等等。当你需要广泛的平台支持时，C++非常棒因为只要有一个编译器你就可以让C++编译成在该平台运行的本地代码。

当然还有其他的本地计算机语言，但C++是自80年代初以来就广泛使用并广受欢迎，每个人都知道，每个人都在使用它。其他诸如C#或Java的语言之所以不同是因为它们是在虚拟机上运行的，这意味着你的代码首先被编译成一种中间语言，当你在目标平台上运行你的应用程序时虚拟机运行程序再转换为机器码。

想象一下，假设你用英语写了一本书，但你想让一个只会说德语的德国人读你的书，所以你决定要做的就是在德国书店里卖英文版的书。然而当你买这本书时，你还会有一个真人翻译陪你回家。当这个德国人回到家想读这本书的时候，翻译用英文朗读了这本书，然后再开始用德语为这个人翻译整本书。这有点像在虚拟机上运行的代码，当然你把书本身翻译成德语然后在德国的书店出售效率会更高，也是C++与C#、Java之类的语言的区别：C++是本地语言，C++编译器为目标平台和目标架构生成机器码，不需要翻译只要把机器代码指令放入CPU运行它们，CPU就会执行这些指令。



### 学习内容

当然本地语言不意味着它会很快，如果你写垃圾代码的话它会很慢，事实上它甚至可能比虚拟机语言比如C#和Java更慢，因为它们倾向于运行时做系统优化，所以如果你C++代码写的不好，C++肯定会比C#或Java更慢。正因为如此，我喜欢使用这类语言，当我只是需要合适的工具或不需要我压榨每一点性能的时候C#是一种非常好的语言，但是当我们真正需要性能的时候我们就需要C++。

我们将学习如何正确书写的简单技巧、如何写好代码、如何写出快速的代码。

你可能会问我们要讲些什么呢？一开始我们将从C++基础开始，如果我们关心性能之后将讨论使用C++库的好处，我们会讲到C++如何运行，会谈到内存与指针、池、自定义构造函数、移动语义、模板等如何正确的使用。我们还会讨论宏，以及如何在多个平台上编程，编写我们自己的数据结构使它们比C++库的更快更安全，我们甚至会涉及底层优化，通过编译器内联、汇编，写自己的Maps和SSE指令集。



### 配置安装

#### Windows







#### MacOS

你可以使用很多不同的工具在Mac上构建C++应用程序，但我要推荐的是XCode。Xcode是苹果公司开发的IDE，它还不算太糟，在大型项目上可能会很慢，例如EA公司用Xcode为IOS开发游戏时某些程序的编译时间会超过20分钟，比如《极品飞车：无极限》。实际上对于写代码也是一场噩梦，因为当你做一个大型项目时所有的东西都被延迟，但像学习C++这样的小项目，我仍然认为XCode是最好的IDE，让我们来安装它。



进入Appstore，搜索栏输入XCode：

![](https://cdn.jsdelivr.net/gh/Yousazoe/picgo-repo/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202021-03-07%20%E4%B8%8B%E5%8D%881.29.39.png)



XCode安装好后让我们打开它，接受所有的条款和条件，XCode将继续为我们安装一些组件：

![](https://cdn.jsdelivr.net/gh/Yousazoe/picgo-repo/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202021-03-07%20%E4%B8%8B%E5%8D%881.35.08.png)



完成后我们将创建一个新的XCode项目，选择模板时点击MacOS，然后选择命令行项目：

![](https://cdn.jsdelivr.net/gh/Yousazoe/picgo-repo/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202021-03-07%20%E4%B8%8B%E5%8D%881.36.47.png)



我们给这个项目起个名字`HelloWorld`，然后在语言下面选择`C++`。你必须输入你的组织标识，比如com.你的公司名，这是某种唯一标识符但并不重要：



![](https://cdn.jsdelivr.net/gh/Yousazoe/picgo-repo/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202021-03-07%20%E4%B8%8B%E5%8D%881.39.37.png)



选择好项目的存储位置后基本OK了，这就是XCode项目的样子：

![](https://cdn.jsdelivr.net/gh/Yousazoe/picgo-repo/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202021-03-07%20%E4%B8%8B%E5%8D%881.44.57.png)

<br/>

![](https://cdn.jsdelivr.net/gh/Yousazoe/picgo-repo/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202021-03-07%20%E4%B8%8B%E5%8D%881.47.11-20210307135152889.png)

可以看到，我们已经有了一个`main.cpp`文件，它已经有了一些默认的代码，但我们还是重写已匹配其他平台：

```c++
#include <iostram>

int main(){
    std::cout << "Hello World" << std::endl;
    std::cin.get();
}
```



如果这是你第一次运行XCode，则必须启用`Developer Mode`。编译成功后应该在底部弹出一个控制台显示我们的编译输出，按下回车键程序成功终止：

![屏幕快照 2021-03-07 下午1.53.37](https://cdn.jsdelivr.net/gh/Yousazoe/picgo-repo/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202021-03-07%20%E4%B8%8B%E5%8D%881.53.37.png)



这样我们已经启动了XCode并运行了它，终于准备好学习C++了。



#### Linux



